export type Locale = 'es' | 'en';

export const defaultLocale: Locale = 'es';

/** Cookie name for locale (shared client/server) */
export const LOCALE_COOKIE_NAME = 'adtlas_locale';

export const locales: Locale[] = ['es', 'en'];

// Translation keys (keyof translationsEn, exported for components)
export type TranslationKey = keyof typeof translationsEn;

const translationsEn = {
  'nav.home': 'Home',
  'nav.leads': 'Leads',
  'nav.pipeline': 'Pipeline',
  'nav.tasks': 'Tasks',
  'nav.integrations': 'Integrations',
  'nav.admin': 'Admin',
  'nav.newLead': 'New lead',
  'nav.newTask': 'New task',
  'topbar.signOut': 'Sign out',
  'common.save': 'Save',
  'common.cancel': 'Cancel',
  'common.loading': 'Loading...',
  'common.saving': 'Saving...',
  'common.delete': 'Delete',
  'common.edit': 'Edit',
  'common.assign': 'Assign',
  'common.unassigned': 'Unassigned',
  'auth.login': 'Log in',
  'auth.register': 'Register',
  'auth.email': 'Email',
  'auth.password': 'Password',
  'auth.name': 'Name',
  'auth.signIn': 'Sign in',
  'auth.signingIn': 'Signing in...',
  'auth.createAccount': 'Create account',
  'auth.creatingAccount': 'Creating...',
  'auth.noAccount': "Don't have an account?",
  'auth.hasAccount': 'Already have an account?',
  'auth.signUp': 'Sign up',
  'auth.signInToCrm': 'Sign in to CRM',
  'auth.createCrmAccount': 'Create CRM account',
  'auth.companyName': 'Company name',
  'auth.yourName': 'Your name',
  'auth.invalidCredentials': 'Invalid email or password',
  'auth.errorCreatingAccount': 'Error creating account',
  'leads.title': 'Leads',
  'leads.newLead': 'New lead',
  'leads.name': 'Name',
  'leads.email': 'Email',
  'leads.phone': 'Phone',
  'leads.origin': 'Origin',
  'leads.assignTo': 'Assign to (optional)',
  'leads.deleteConfirm': 'Delete this lead? This cannot be undone.',
  'leads.deleteError': 'Could not delete lead.',
  'leads.viewMine': 'My records',
  'leads.viewTeam': 'My team',
  'leads.viewAll': 'All',
  'leads.stage': 'Stage',
  'leads.assignedTo': 'Assigned to',
  'leads.createdAt': 'Created',
  'pipeline.title': 'Pipeline',
  'pipeline.stages': 'Stages',
  'tasks.title': 'Tasks',
  'tasks.newTask': 'New task',
  'tasks.dueDate': 'Due date',
  'tasks.titleLabel': 'Title',
  'tasks.relatedLead': 'Related lead',
  'tasks.placeholder': 'e.g. Call lead back',
  'integrations.title': 'Integrations',
  'integrations.metaPageId': 'Page ID',
  'integrations.metaFormId': 'Form ID',
  'integrations.metaSourceName': 'Source name',
  'integrations.placeholderPage': 'e.g. 123456789',
  'integrations.placeholderForm': 'e.g. 987654321',
  'integrations.placeholderName': 'e.g. Web form',
  'integrations.addSource': 'Add source',
  'admin.users': 'Users',
  'admin.createUser': 'Create user',
  'admin.role': 'Role',
  'dashboard.recentLeads': 'Recent leads',
  'dashboard.totalLeads': 'Total leads',
  'dashboard.leadsThisWeek': 'Leads this week',
  'dashboard.byStage': 'By stage',
  'detail.details': 'Details',
  'detail.activities': 'Activities',
  'detail.related': 'Related',
  'detail.timeline': 'Timeline',
  'detail.changeStage': 'Change stage',
  'detail.quickActions': 'Quick actions',
  'detail.newTask': 'New task',
  'detail.noTasks': 'No tasks',
  'detail.errorCreatingLead': 'Error creating lead',
} as const;

const translationsEs: Record<TranslationKey, string> = {
  'nav.home': 'Inicio',
  'nav.leads': 'Leads',
  'nav.pipeline': 'Pipeline',
  'nav.tasks': 'Tareas',
  'nav.integrations': 'Integraciones',
  'nav.admin': 'Admin',
  'nav.newLead': 'Nuevo lead',
  'nav.newTask': 'Nueva tarea',
  'topbar.signOut': 'Cerrar sesión',
  'common.save': 'Guardar',
  'common.cancel': 'Cancelar',
  'common.loading': 'Cargando...',
  'common.saving': 'Guardando...',
  'common.delete': 'Eliminar',
  'common.edit': 'Editar',
  'common.assign': 'Asignar',
  'common.unassigned': 'Sin asignar',
  'auth.login': 'Iniciar sesión',
  'auth.register': 'Registrarse',
  'auth.email': 'Correo',
  'auth.password': 'Contraseña',
  'auth.name': 'Nombre',
  'auth.signIn': 'Entrar',
  'auth.signingIn': 'Entrando...',
  'auth.createAccount': 'Crear cuenta',
  'auth.creatingAccount': 'Creando...',
  'auth.noAccount': '¿No tienes cuenta?',
  'auth.hasAccount': '¿Ya tienes cuenta?',
  'auth.signUp': 'Registrarse',
  'auth.signInToCrm': 'Entrar al CRM',
  'auth.createCrmAccount': 'Crear cuenta en el CRM',
  'auth.companyName': 'Nombre de la empresa',
  'auth.yourName': 'Tu nombre',
  'auth.invalidCredentials': 'Correo o contraseña incorrectos',
  'auth.errorCreatingAccount': 'Error al crear la cuenta',
  'leads.title': 'Leads',
  'leads.newLead': 'Nuevo lead',
  'leads.name': 'Nombre',
  'leads.email': 'Correo',
  'leads.phone': 'Teléfono',
  'leads.origin': 'Origen',
  'leads.assignTo': 'Asignar a (opcional)',
  'leads.deleteConfirm': '¿Eliminar este lead? No se puede deshacer.',
  'leads.deleteError': 'No se pudo eliminar el lead.',
  'leads.viewMine': 'Mis registros',
  'leads.viewTeam': 'Mi equipo',
  'leads.viewAll': 'Todos',
  'leads.stage': 'Etapa',
  'leads.assignedTo': 'Asignado a',
  'leads.createdAt': 'Creado',
  'pipeline.title': 'Pipeline',
  'pipeline.stages': 'Etapas',
  'tasks.title': 'Tareas',
  'tasks.newTask': 'Nueva tarea',
  'tasks.dueDate': 'Fecha límite',
  'tasks.titleLabel': 'Título',
  'tasks.relatedLead': 'Lead relacionado',
  'tasks.placeholder': 'ej. Llamar al lead',
  'integrations.title': 'Integraciones',
  'integrations.metaPageId': 'Page ID',
  'integrations.metaFormId': 'Form ID',
  'integrations.metaSourceName': 'Nombre del origen',
  'integrations.placeholderPage': 'ej. 123456789',
  'integrations.placeholderForm': 'ej. 987654321',
  'integrations.placeholderName': 'ej. Formulario web',
  'integrations.addSource': 'Añadir origen',
  'admin.users': 'Usuarios',
  'admin.createUser': 'Crear usuario',
  'admin.role': 'Rol',
  'dashboard.recentLeads': 'Leads recientes',
  'dashboard.totalLeads': 'Total de leads',
  'dashboard.leadsThisWeek': 'Leads esta semana',
  'dashboard.byStage': 'Por etapa',
  'detail.details': 'Detalles',
  'detail.activities': 'Actividades',
  'detail.related': 'Relacionados',
  'detail.timeline': 'Línea de tiempo',
  'detail.changeStage': 'Cambiar etapa',
  'detail.quickActions': 'Acciones rápidas',
  'detail.newTask': 'Nueva tarea',
  'detail.noTasks': 'Sin tareas',
  'detail.errorCreatingLead': 'Error al crear el lead',
};

const dictionaries: Record<Locale, Record<TranslationKey, string>> = {
  en: translationsEn,
  es: translationsEs,
};

export function getT(locale: Locale) {
  const d = dictionaries[locale] ?? dictionaries.es;
  return (key: TranslationKey): string => d[key] ?? key;
}
